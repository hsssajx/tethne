
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Bibliographic Coupling &mdash; tethne 0.4.2-alpha documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.4.2-alpha',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="tethne 0.4.2-alpha documentation" href="index.html" />
    <link rel="up" title="Tutorial" href="tutorial.html" />
    <link rel="next" title="Geographic Networks" href="tutorial.geonetworks.html" />
    <link rel="prev" title="Coauthorship Networks" href="tutorial.coauthors.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="np-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="tutorial.geonetworks.html" title="Geographic Networks"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="tutorial.coauthors.html" title="Coauthorship Networks"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">tethne 0.4.2-alpha documentation</a> &raquo;</li>
          <li><a href="tutorial.html" accesskey="U">Tutorial</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="bibliographic-coupling">
<h1>Bibliographic Coupling<a class="headerlink" href="#bibliographic-coupling" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="http://en.wikipedia.org/wiki/Bibliographic_coupling">Bibliographic coupling</a> was first
proposed as a method for detecting latent topical affinities among research publications
by Myer M. Kessler at MIT in 1958. In 1972, J.C. Donohue suggested that bibliographic
coupling could be used to the map &#8220;research fronts&#8221; in science, and this method, along
with co-citation analysis and other citation-based clustering techniques, became a core
methodology of the science-mapping craze of the 1970s. Bibliographic coupling is still
employed in the context of both information-retrieval and science-studies.</p>
<p>Two papers are bibliographically coupled if they both cite at least some of the same
papers. The core assumption of bibliographic coupling analysis is that if two papers
cite similar literatures, then they must be topically related in some way. That is, they
are more likely to be related to each other than to papers with which they share no cited
references.</p>
<img alt="_images/citationnetworks.png" class="align-center" src="_images/citationnetworks.png" style="width: 600px;" />
<p>This tutorial provides a walk-through for building bibliographic coupling networks from
Web of Science citation data, using the command-line interface, the TethneGUI (developed
for demonstration purposes only), and the Python API.</p>
<p>The section <a class="reference internal" href="#clusters"><em>Cluster Detection</em></a> introduces Cytoscape&#8217;s MCODE clustering app.</p>
<p>Before you begin, be sure to install the latest version of Tethne. Consult the
<a class="reference internal" href="install.html#installation"><em>Installation</em></a> guide for details.</p>
<p><strong>If you run into problems</strong>, don&#8217;t panic. Tethne is under active development, and there
are certainly bugs to be found. Please report any problems on our
<a class="reference external" href="https://github.com/diging/tethne/issues?state=open">GitHub issue tracker</a>.</p>
<div class="section" id="getting-started">
<h2>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h2>
<p>Before you start, you should choose an output folder where TethneGUI should store graphs
and descriptions of your dataset.</p>
<p>You should also choose a dataset ID. This is a unique ID that Tethne will use to keep
track of your data between workflow steps.</p>
<div class="section" id="initialize-tethnegui">
<h3>Initialize TethneGUI<a class="headerlink" href="#initialize-tethnegui" title="Permalink to this headline">¶</a></h3>
<p>When you first start TethneGUI, you should see a window like the one shown below. Click
<tt class="docutils literal"><span class="pre">Select</span> <span class="pre">folder...</span></tt> to specify your output folder. A dataset ID should be automatically
generated for you; you can change this if you wish.</p>
<img alt="_images/install.3.png" class="align-center" src="_images/install.3.png" style="width: 500px;" />
<p>Once you&#8217;ve selected an output folder and a dataset ID, click the <tt class="docutils literal"><span class="pre">Run</span> <span class="pre">Tethne...</span></tt>
button.</p>
</div>
</div>
<div class="section" id="reading-wos-data">
<h2>Reading WoS Data<a class="headerlink" href="#reading-wos-data" title="Permalink to this headline">¶</a></h2>
<p>You can read WoS data from one or multiple field-tagged data files.</p>
<div class="section" id="command-line">
<h3>Command-line<a class="headerlink" href="#command-line" title="Permalink to this headline">¶</a></h3>
<p>Use <tt class="docutils literal"><span class="pre">-I</span> <span class="pre">examplID</span></tt> to specify your dataset ID, and
<tt class="docutils literal"><span class="pre">-O</span> <span class="pre">/Users/erickpeirson/exampleOutput</span></tt> to specify your output folder.</p>
<p><tt class="docutils literal"><span class="pre">--data-format=WOS</span></tt> tells Tethne that your data are in the Web of Science field-tagged
format.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>tethne -I exampleID -O /Users/erickpeirson/exampleOutput --read-file <span class="se">\</span>
--data-path<span class="o">=</span>/Users/erickpeirson/Downloads/tests/savedrecs4.txt --data-format<span class="o">=</span>WOS
----------------------------------------
        Workflow step: Read
----------------------------------------
Reading WOS data from file /Users/erickpeirson/Downloads/tests/savedrecs4.txt...done.
Read 500 papers in 2.67462515831 seconds. Accession: 0ff65dc3-b8f7-4bdc-a714-2d2a539f10a9.
Generating a new DataCollection...done.
Saving DataCollection to /tmp/exampleID_DataCollection.pickle...done.
</pre></div>
</div>
</div>
<div class="section" id="tethnegui">
<h3>TethneGUI<a class="headerlink" href="#tethnegui" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>Select your WoS data file. If you have one data file, click the <tt class="docutils literal"><span class="pre">Select</span> <span class="pre">a</span> <span class="pre">File...</span></tt>.
If you have multiple data files in their own folder, click <tt class="docutils literal"><span class="pre">Select</span> <span class="pre">a</span> <span class="pre">Folder...</span></tt>.</li>
<li>Select the <tt class="docutils literal"><span class="pre">WOS</span></tt> file format.</li>
<li>Click the <tt class="docutils literal"><span class="pre">Read</span> <span class="pre">files</span></tt> button.</li>
</ol>
<p>Depending on the size of your dataset, this may take a minute or two. When TethneGUI is
done reading your data, you should see messages like those depicted in the image below.</p>
<img alt="_images/coauthors.1.png" class="align-center" src="_images/coauthors.1.png" style="width: 500px;" />
<p>If your data are read successfully, click <tt class="docutils literal"><span class="pre">Next</span> <span class="pre">&gt;</span></tt>.</p>
</div>
<div class="section" id="python">
<h3>Python<a class="headerlink" href="#python" title="Permalink to this headline">¶</a></h3>
<p>First import the <a class="reference internal" href="tethne.readers.html#module-tethne.readers" title="tethne.readers"><tt class="xref py py-mod docutils literal"><span class="pre">tethne.readers</span></tt></a> module, then use the <a class="reference internal" href="tethne.readers.html#tethne.readers.wos.read" title="tethne.readers.wos.read"><tt class="xref py py-func docutils literal"><span class="pre">readers.wos.read()</span></tt></a>
method to create a list of <a class="reference internal" href="tethne.html#tethne.data.Paper" title="tethne.data.Paper"><tt class="xref py py-class docutils literal"><span class="pre">Paper</span></tt></a> instances. You can use
<a class="reference internal" href="tethne.readers.html#tethne.readers.wos.from_dir" title="tethne.readers.wos.from_dir"><tt class="xref py py-func docutils literal"><span class="pre">readers.wos.from_dir()</span></tt></a> to import all of the WoS datafiles in a directory.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="c"># Parse data.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tethne.readers</span> <span class="kn">as</span> <span class="nn">rd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">papers</span> <span class="o">=</span> <span class="n">rd</span><span class="o">.</span><span class="n">wos</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s">&quot;/Path/To/FirstDataSet.txt&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Then create a new <a class="reference internal" href="tethne.html#tethne.data.DataCollection" title="tethne.data.DataCollection"><tt class="xref py py-class docutils literal"><span class="pre">DataCollection</span></tt></a> to organize your data.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">tethne.data</span> <span class="kn">import</span> <span class="n">DataCollection</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">D</span> <span class="o">=</span> <span class="n">DataCollection</span><span class="p">(</span><span class="n">papers</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="slicing-wos-data">
<h2>Slicing WoS Data<a class="headerlink" href="#slicing-wos-data" title="Permalink to this headline">¶</a></h2>
<p>In this tutorial, we will first build a static bibliographic coupling network using all of
the records in your WoS dataset. Then, if your dataset contains records from across a
broad time-domain, you may also wish to view the evolution of your bibliographic coupling
network over time by slicing your data using a <tt class="docutils literal"><span class="pre">sliding</span> <span class="pre">time-window</span></tt>. Since we can
choose to merge our data slices in the <tt class="docutils literal"><span class="pre">graph</span></tt> step, we&#8217;ll go ahead and slice our data
now.</p>
<p>The sliding time-window slice method is a bit different than the simple time-period slice
method used in the <a class="reference internal" href="tutorial.coauthors.html#coauthorship"><em>Coauthorship Networks</em></a> tutorial. Whereas time-period slicing divides data
into subsets by sequential non-overlapping time periods, subsets generated by time-window
slicing can overlap.</p>
<div class="figure align-center">
<img alt="_images/timeline.timeslice.png" src="_images/timeline.timeslice.png" style="width: 400px;" />
<p class="caption"><strong>Time-period</strong> slicing, with a window-size of 4 years.</p>
</div>
<div class="figure align-center">
<img alt="_images/timeline.timewindow.png" src="_images/timeline.timewindow.png" style="width: 400px;" />
<p class="caption"><strong>Time-window</strong> slicing, with a window-size of 4 years and a step-size of 1 year.</p>
</div>
<div class="section" id="id2">
<h3>Command-line<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>tethne -I exampleID -O /Users/erickpeirson/exampleOutput --slice -S date <span class="se">\</span>
&gt; -M time_window --window-size<span class="o">=</span>4
----------------------------------------
        Workflow step: Slice
----------------------------------------
Loading DataCollection from /tmp/exampleID_DataCollection.pickle...done.
Slicing DataCollection by date...done.
Saving slice distribution to /Users/erickpeirson/exampleOutput/exampleID_sliceDistribution.csv...done.
Saving sliced DataCollection to /tmp/exampleID_DataCollection_sliced.pickle...done.
</pre></div>
</div>
</div>
<div class="section" id="id3">
<h3>TethneGUI<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>The slice axis should be set to <tt class="docutils literal"><span class="pre">date</span></tt> by default. If not, select it from the
<tt class="docutils literal"><span class="pre">Slice</span> <span class="pre">axis</span></tt> drop-down menu.</li>
<li>Set <tt class="docutils literal"><span class="pre">Cumulative</span> <span class="pre">slicing</span></tt> to <tt class="docutils literal"><span class="pre">False</span></tt>.</li>
<li>Select <tt class="docutils literal"><span class="pre">time_window</span></tt> from the <tt class="docutils literal"><span class="pre">Slice</span> <span class="pre">method</span></tt> menu.</li>
<li>Set the <tt class="docutils literal"><span class="pre">Slice</span> <span class="pre">window</span> <span class="pre">size</span></tt> to <tt class="docutils literal"><span class="pre">4</span></tt>.</li>
<li>Click <tt class="docutils literal"><span class="pre">Slice</span> <span class="pre">files</span></tt>.</li>
</ol>
<p>After a few minutes, slicing should be complete; click <tt class="docutils literal"><span class="pre">Next</span> <span class="pre">&gt;</span></tt>.</p>
<img alt="_images/slice1.png" class="align-center" src="_images/slice1.png" style="width: 500px;" />
</div>
<div class="section" id="id4">
<h3>Python<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p>Use the <a class="reference internal" href="tethne.html#tethne.data.DataCollection.slice" title="tethne.data.DataCollection.slice"><tt class="xref py py-func docutils literal"><span class="pre">tethne.data.DataCollection.slice()</span></tt></a> method to slice your data.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">D</span><span class="o">.</span><span class="n">slice</span><span class="p">(</span><span class="s">&#39;date&#39;</span><span class="p">,</span> <span class="s">&#39;time_window&#39;</span><span class="p">,</span> <span class="n">window_size</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="building-the-bibliographic-coupling-graph">
<h2>Building the Bibliographic Coupling Graph<a class="headerlink" href="#building-the-bibliographic-coupling-graph" title="Permalink to this headline">¶</a></h2>
<p>For now, we&#8217;ll ignore data slicing and generate a single bibliographic coupling graph from
the entire dataset using the <tt class="docutils literal"><span class="pre">merged</span></tt> option. Later on, we&#8217;ll come back and use the data
slicing to look at how the network evolves over time.</p>
<p>To generate a bibliographic coupling network, we will tell Tethne to use papers for
nodes, and use the <tt class="docutils literal"><span class="pre">bibliographic_coupling</span></tt> graph type. For a complete list of graph
types available in Tethne, see <a class="reference internal" href="tethne.networks.html#module-tethne.networks" title="tethne.networks"><tt class="xref py py-mod docutils literal"><span class="pre">networks</span></tt></a>.</p>
<p>Generating an informative graph using bibliographic coupling will require some tuning.
Depending on the criteria that you used to generate your bibliographic dataset, you may
need to adjust the coupling <tt class="docutils literal"><span class="pre">threshold</span></tt>. Papers from a relatively narrow field have a
high probability of sharing cited references, thus a threshold of <tt class="docutils literal"><span class="pre">1</span></tt> shared reference
will result in a nearly complete graph that yields little information about the latent
topical structure of that literature. If your dataset contains papers from quite disparate
fields, however, you may wish to keep the threshold low.</p>
<p>Since papers vary widely in the total number of references that they cite, it may be
desirable to use a normalized overlap value rather than an absolute one. If the
<tt class="docutils literal"><span class="pre">weighted</span></tt> parameter is set to <tt class="docutils literal"><span class="pre">True</span></tt>, Tethne will use the normalized similarity
metric <tt class="docutils literal"><span class="pre">s</span></tt>:</p>
<div class="math">
\[s = \frac{N_{i|j}}{\sqrt{ N_i N_j }}\]</div>
<p>If you choose to use absolute overlap (<tt class="docutils literal"><span class="pre">weighted</span></tt> is <tt class="docutils literal"><span class="pre">False</span></tt>), we suggest starting
with a <tt class="docutils literal"><span class="pre">threshold</span></tt> of <tt class="docutils literal"><span class="pre">5</span></tt>, and then adjusting it upward or downward to achieve optimal
clustering. If you choose to use normalized overlap (<tt class="docutils literal"><span class="pre">weighted</span></tt> is <tt class="docutils literal"><span class="pre">True</span></tt>), then try
starting with a <tt class="docutils literal"><span class="pre">threshold</span></tt> of <tt class="docutils literal"><span class="pre">0.05</span></tt>.</p>
<p>We&#8217;ll also include some node attributes: <tt class="docutils literal"><span class="pre">date</span></tt>, <tt class="docutils literal"><span class="pre">jtitle</span></tt> (journal title), and
<tt class="docutils literal"><span class="pre">atitle</span></tt> (article title).</p>
<div class="section" id="id5">
<h3>Command-line<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<p>The value of the <tt class="docutils literal"><span class="pre">--node-attr</span></tt> argument should be a list of keys from the
<a class="reference internal" href="tethne.html#tethne.data.Paper" title="tethne.data.Paper"><tt class="xref py py-class docutils literal"><span class="pre">Paper</span></tt></a> class, separated by commas (no spaces).</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>tethne -I exampleID -O /Users/erickpeirson/exampleOutput --graph --merged <span class="se">\</span>
&gt; --node-type<span class="o">=</span>paper --graph-type<span class="o">=</span>bibliographic_coupling --threshold<span class="o">=</span>0.05 --weighted <span class="se">\</span>
&gt; --node-attr<span class="o">=</span>date,jtitle,atitle
----------------------------------------
        Workflow step: Graph
----------------------------------------
Loading DataCollection without slices from /tmp/exampleID_DataCollection.pickle...done.
Building author graph using coauthors method...done in 0.144234895706 seconds.
Saving GraphCollection to /tmp/exampleID_GraphCollection.pickle...done.
Writing graph summaries to /Users/erickpeirson/exampleOutput/exampleID_graphs.csv...done.
</pre></div>
</div>
</div>
<div class="section" id="id6">
<h3>TethneGUI<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<p>Select <tt class="docutils literal"><span class="pre">author</span></tt> from the <tt class="docutils literal"><span class="pre">Node</span> <span class="pre">type</span></tt> menu, and <tt class="docutils literal"><span class="pre">coauthors</span></tt> from the <tt class="docutils literal"><span class="pre">Graph</span> <span class="pre">type</span></tt>
menu. Check the <tt class="docutils literal"><span class="pre">Ignore</span> <span class="pre">DataCollection</span> <span class="pre">slicing</span></tt> option, then click <tt class="docutils literal"><span class="pre">Build</span> <span class="pre">graph</span></tt>.</p>
<img alt="_images/graph.merged.png" class="align-center" src="_images/graph.merged.png" style="width: 500px;" />
<p>Once the graph is built, click <tt class="docutils literal"><span class="pre">Next</span> <span class="pre">&gt;</span></tt>. For now, we&#8217;ll skip the analysis step. Click
<tt class="docutils literal"><span class="pre">Next</span> <span class="pre">&gt;</span></tt> again to reach <tt class="docutils literal"><span class="pre">Step</span> <span class="pre">5:</span> <span class="pre">Write</span> <span class="pre">graph(s)</span></tt>.</p>
</div>
<div class="section" id="id7">
<h3>Python<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<p>To generate a single graph from your <a class="reference internal" href="tethne.html#tethne.data.DataCollection" title="tethne.data.DataCollection"><tt class="xref py py-class docutils literal"><span class="pre">DataCollection</span></tt></a>, call the
<a class="reference internal" href="tethne.networks.html#tethne.networks.authors.coauthors" title="tethne.networks.authors.coauthors"><tt class="xref py py-func docutils literal"><span class="pre">coauthors()</span></tt></a> method directly from the <a class="reference internal" href="tethne.networks.html#module-tethne.networks.authors" title="tethne.networks.authors"><tt class="xref py py-mod docutils literal"><span class="pre">networks.authors</span></tt></a> module.</p>
<p>Use the <tt class="docutils literal"><span class="pre">threshold</span></tt> and <tt class="docutils literal"><span class="pre">node_attribs</span></tt> keyword arguments to set the minimum coupling
threshold and node attributes, respectively. <tt class="docutils literal"><span class="pre">node_attribs</span></tt> should be a list of string
keys from <a class="reference internal" href="tethne.html#tethne.data.Paper" title="tethne.data.Paper"><tt class="xref py py-class docutils literal"><span class="pre">Paper</span></tt></a>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tethne.networks</span> <span class="kn">as</span> <span class="nn">nt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bc_graph</span> <span class="o">=</span> <span class="n">nt</span><span class="o">.</span><span class="n">papers</span><span class="o">.</span><span class="n">bibliographic_coupling</span><span class="p">(</span><span class="n">D</span><span class="o">.</span><span class="n">papers</span><span class="p">(),</span> <span class="n">threshold</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
<span class="gp">... </span>                                           <span class="n">node_attribs</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;date&#39;</span><span class="p">,</span><span class="s">&#39;jtitle&#39;</span><span class="p">,</span><span class="s">&#39;atitle&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="write-the-graph-to-graphml">
<h2>Write the Graph to GraphML<a class="headerlink" href="#write-the-graph-to-graphml" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://graphml.graphdrawing.org">GraphML</a> is a widely-used static network data format.
We will write our network to GraphML for visualization in Cytoscape.</p>
<p>This step should generate a file in your output folder called
<tt class="docutils literal"><span class="pre">[DATASET_ID]_graph_all.graphml</span></tt>.</p>
<img alt="_images/coauthors.6.png" class="align-center" src="_images/coauthors.6.png" style="width: 600px;" />
<div class="section" id="id8">
<h3>Command-line<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>tethne -I exampleID -O /Users/erickpeirson/exampleOutput --write <span class="se">\</span>
&gt; --write-format graphml
----------------------------------------
        Workflow step: Write
----------------------------------------
Loading GraphCollection from /tmp/exampleID_GraphCollection.pickle...done.
Writing graphs to /Users/erickpeirson/exampleOutput with format graphml...done.
</pre></div>
</div>
</div>
<div class="section" id="id9">
<h3>TethneGUI<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<p>Select <tt class="docutils literal"><span class="pre">graphml</span></tt> from the <tt class="docutils literal"><span class="pre">Output</span> <span class="pre">format</span> <span class="pre">for</span> <span class="pre">graph(s)</span></tt> menu, then click
<tt class="docutils literal"><span class="pre">Write</span> <span class="pre">graph(s)</span></tt>.</p>
<img alt="_images/write.graphml.png" class="align-center" src="_images/write.graphml.png" style="width: 600px;" />
</div>
<div class="section" id="id10">
<h3>Python<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<p>Use the <a class="reference internal" href="tethne.writers.html#tethne.writers.graph.to_graphml" title="tethne.writers.graph.to_graphml"><tt class="xref py py-func docutils literal"><span class="pre">to_graphml()</span></tt></a> method in <a class="reference internal" href="tethne.writers.html#module-tethne.writers.collection" title="tethne.writers.collection"><tt class="xref py py-mod docutils literal"><span class="pre">writers.collection</span></tt></a> to create a GraphML
data file.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tethne.writers</span> <span class="kn">as</span> <span class="nn">wr</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wr</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">to_graphml</span><span class="p">(</span><span class="n">bc_graph</span><span class="p">,</span> <span class="s">&quot;[OUTPUT_PATH]&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">[OUTPUT_PATH]</span></tt> should be a path to the GraphML file that Tethne will create.</p>
</div>
</div>
<div class="section" id="visualizing-the-merged-network">
<h2>Visualizing the Merged Network<a class="headerlink" href="#visualizing-the-merged-network" title="Permalink to this headline">¶</a></h2>
<p>Cytoscape was developed in 2002, with funding from the National Instute of General Medical
Sciences and the National Resource for Network Biology. The primary user base is the
biomedical research community, especially systems biologists who study gene or protein
interaction networks and pathways.</p>
<p>You can download Cytoscape 3 from url{<a class="reference external" href="http://www.cytoscape.org">http://www.cytoscape.org</a>}. This tutorial assumes
that you are using Cytoscape 3.1.</p>
<div class="section" id="import">
<h3>Import<a class="headerlink" href="#import" title="Permalink to this headline">¶</a></h3>
<p>In Cytoscape, import your network by selecting <tt class="docutils literal"><span class="pre">File</span> <span class="pre">&gt;</span> <span class="pre">Import</span> <span class="pre">&gt;</span> <span class="pre">Network</span> <span class="pre">&gt;</span> <span class="pre">From</span> <span class="pre">file...</span></tt>
and selecting the GraphML file generated by Tethne in your output directory.</p>
<p>Tethne includes the <tt class="docutils literal"><span class="pre">similarity</span></tt> of each pair of papers as an edge attribute. You can
tell Cytoscape to take similarity into account when laying out your graph. To apply an
edge-weighted layout, select <tt class="docutils literal"><span class="pre">Layout</span> <span class="pre">&gt;</span> <span class="pre">Edge-weighted</span> <span class="pre">Spring</span> <span class="pre">Embedded</span> <span class="pre">&gt;</span> <span class="pre">similarity</span></tt>.</p>
<img alt="_images/cyto.1.png" class="align-center" src="_images/cyto.1.png" style="width: 900px;" />
<p>Your network may look like a giant hairball. If you can&#8217;t see much structure at all, you
may wish to go back and rebuild the graph with a higher threshold. If your network is very
sparse, you may wish to lower the threshold.</p>
<p>Set edge weight as a function of <tt class="docutils literal"><span class="pre">similarity</span></tt> to see which links are the strongest in
your network.</p>
<img alt="_images/cyto.2.png" class="align-center" src="_images/cyto.2.png" style="width: 900px;" />
<p>To get some idea of whether certain clusters in the network correspond to publication
in the same journal, set node fill color as a discrete function of <tt class="docutils literal"><span class="pre">jtitle</span></tt>. You can
automatically generate node fill colors by right-clicking on the visual mapping, and
selecting <tt class="docutils literal"><span class="pre">Mapping</span> <span class="pre">Value</span> <span class="pre">Generators</span> <span class="pre">&gt;</span> <span class="pre">Random</span> <span class="pre">Color</span></tt>.</p>
<img alt="_images/cyto.3.png" class="align-center" src="_images/cyto.3.png" style="width: 900px;" />
<p>Since you included the title of each paper (<tt class="docutils literal"><span class="pre">atitle</span></tt>) as a node attribute, you can
get some idea of what makes a particular region of the network hang together by selecting
some nodes and inspecting the <tt class="docutils literal"><span class="pre">Node</span> <span class="pre">Table</span></tt> in the <tt class="docutils literal"><span class="pre">Table</span> <span class="pre">Panel</span></tt>. In the example below,
a quick visual inspection suggests that parasites figure heavily in the selected papers.</p>
<img alt="_images/cyto.4.png" class="align-center" src="_images/cyto.4.png" style="width: 900px;" />
</div>
</div>
<div class="section" id="cluster-detection">
<span id="clusters"></span><h2>Cluster Detection<a class="headerlink" href="#cluster-detection" title="Permalink to this headline">¶</a></h2>
<p>Especially if your network is very dense, it may be difficult to find salient clusters
by visual inspection alone. Clustering algorithms provide a useful way to find
groups of nodes that hang together in some way. Most clustering algorithms use an
optimization function to find groups of nodes that are more densely connected among
themselves than with the rest of the network.</p>
<p>One such clustering algorithm in Cytoscape is provided by the MCODE app. To install
the MCODE app:</p>
<ol class="arabic simple">
<li>Select <tt class="docutils literal"><span class="pre">Apps</span> <span class="pre">&gt;</span> <span class="pre">App</span> <span class="pre">Manager</span></tt> from the main menu.</li>
<li>Click on the <tt class="docutils literal"><span class="pre">Install</span> <span class="pre">Apps</span></tt> tab, and find MCODE in the list of available apps.</li>
<li>Click the <tt class="docutils literal"><span class="pre">Install</span></tt> button.</li>
</ol>
<img alt="_images/cyto.5.png" class="align-center" src="_images/cyto.5.png" style="width: 500px;" />
<p>MCODE should now appear in the <tt class="docutils literal"><span class="pre">Apps</span></tt> menu.</p>
<img alt="_images/cyto.6.png" class="align-center" src="_images/cyto.6.png" style="width: 400px;" />
<ol class="arabic simple">
<li>Select <tt class="docutils literal"><span class="pre">Apps</span> <span class="pre">&gt;</span> <span class="pre">MCODE</span> <span class="pre">&gt;</span> <span class="pre">Open</span> <span class="pre">MCODE</span></tt>. A new tab should appear in the <tt class="docutils literal"><span class="pre">Control</span> <span class="pre">Panel</span></tt>
at left.</li>
<li>To adjust the parameters of the MCODE cluster-finding algorithm, expand the
<tt class="docutils literal"><span class="pre">Advanced</span> <span class="pre">Options</span></tt>. MCODE works reasonable well with the default settings.</li>
<li>Click the <tt class="docutils literal"><span class="pre">Analyze</span> <span class="pre">current</span> <span class="pre">network</span></tt> button.</li>
</ol>
<img alt="_images/cyto.7.png" class="align-center" src="_images/cyto.7.png" style="width: 90px;" />
<p>After a few moments, a new window should appear on the right side of the Cytoscape
workspace. Click on a cluster in the <tt class="docutils literal"><span class="pre">Cluster</span> <span class="pre">Browser</span></tt> to select all of the nodes in
that cluster. In some cases, MCODE will find clusters that are not at all obvious
visually. This should give you an impression of the limitations of two-dimensional
layouts for studying network structure, especially in very large, dense networks.</p>
<p>In the example below, MCODE has found a cluster of papers dealing with invertebrate
predators in marine inter-tidal zones.</p>
<img alt="_images/cyto.8.png" class="align-center" src="_images/cyto.8.png" style="width: 900px;" />
<p>MCODE allows you to create a subnetwork from the selected cluster, or export your results.
Exporting your results produces a table like the one shown below, listing each of the
detected clusters and the papers the belong to them.</p>
<p><em>Future versions of Tethne will use this result to generate labels for each cluster based
on the terms that uniquely characterize those groups of papers.</em></p>
<img alt="_images/cyto.9.png" class="align-center" src="_images/cyto.9.png" style="width: 500px;" />
<p>MCODE sets three node attributes:</p>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">MCODE_Cluster</span></tt> contains the name of the cluster to which each node belongs.</li>
<li><tt class="docutils literal"><span class="pre">MCODE_Score</span></tt> indicates how strongly the neighbors around a node cluster together.
This is similar to the <a class="reference external" href="http://en.wikipedia.org/wiki/Clustering_coefficient#Local_clustering_coefficient">Local clustering coefficient</a></li>
<li><tt class="docutils literal"><span class="pre">MCODE_Node_Status</span></tt> indicates whether a node is clustered, unclustered, or a seed
node. Seed nodes are the reference nodes chosen by MCODE at the start of the
cluster-detection process.</li>
</ul>
</div></blockquote>
<p>In the visualization below, node fill color is mapped to <tt class="docutils literal"><span class="pre">MCODE_Cluster</span></tt>. Node size is
mapped to <tt class="docutils literal"><span class="pre">MCODE_Node_Status</span></tt>: unclustered nodes are small, seed nodes are large, and
clustered nodes are intermediate in size.</p>
<img alt="_images/cyto.10.png" class="align-center" src="_images/cyto.10.png" style="width: 900px;" />
</div>
<div class="section" id="bibliographic-coupling-over-time">
<h2>Bibliographic Coupling over Time<a class="headerlink" href="#bibliographic-coupling-over-time" title="Permalink to this headline">¶</a></h2>
<p>If your dataset includes papers published over a long period of time, you may wish to
analyze your bibliographic coupling graph as a dynamic network. This can give a visual
impression of how fields and subfields evolve over time, in terms of whether they do
or do not share cited references.</p>
<div class="section" id="id11">
<h3>Command-line<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<p>Run the <tt class="docutils literal"><span class="pre">graph</span></tt> step again, but this time remove the <tt class="docutils literal"><span class="pre">--merged</span></tt> flag. This will
create a separate graph from each of the data subsets created in the <tt class="docutils literal"><span class="pre">slice</span></tt> step.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>tethne -I exampleID -O /Users/erickpeirson/exampleOutput --graph <span class="se">\</span>
&gt; --node-type<span class="o">=</span>paper --graph-type<span class="o">=</span>bibliographic_coupling --threshold<span class="o">=</span>0.05 --weighted <span class="se">\</span>
&gt; --node-attr<span class="o">=</span>date,jtitle,atitle
----------------------------------------
        Workflow step: Graph
----------------------------------------
Loading DataCollection with slices from /tmp/exampleID_DataCollection_sliced.pickle...done.
Using first slice in DataCollection: date.
Building author graph using coauthors method...done in 0.291323900223 seconds.
Saving GraphCollection to /tmp/exampleID_GraphCollection.pickle...done.
Writing graph summaries to /Users/erickpeirson/exampleOutput/exampleID_graphs.csv...done.
</pre></div>
</div>
<p>Re-run the <tt class="docutils literal"><span class="pre">write</span></tt> step. Use <tt class="docutils literal"><span class="pre">--write-format</span> <span class="pre">xgmml</span></tt> to select the dynamic XGMML export
option.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>tethne -I exampleID -O /Users/erickpeirson/exampleOutput --write --write-format xgmml
----------------------------------------
        Workflow step: Write
----------------------------------------
Loading GraphCollection from /tmp/exampleID_GraphCollection.pickle...done.
Writing graphs to /Users/erickpeirson/exampleOutput with format xgmml...done.
</pre></div>
</div>
<p>This should create a new file called <tt class="docutils literal"><span class="pre">[DATASET_ID]_graph_dynamic.xgmml</span></tt> in your output
folder.</p>
</div>
<div class="section" id="id12">
<h3>TethneGUI<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<p>Use the <tt class="docutils literal"><span class="pre">&lt;</span> <span class="pre">Back</span></tt> button to return to <tt class="docutils literal"><span class="pre">Step</span> <span class="pre">3:</span> <span class="pre">Build</span> <span class="pre">Graphs</span></tt>. Uncheck the
<tt class="docutils literal"><span class="pre">Ignore</span> <span class="pre">DataCollection</span> <span class="pre">slicing</span></tt> option, and then click the <tt class="docutils literal"><span class="pre">Build</span> <span class="pre">graph</span></tt> button
again. Then click <tt class="docutils literal"><span class="pre">Next</span> <span class="pre">&gt;</span></tt>.</p>
<p>Skip the <tt class="docutils literal"><span class="pre">analyze</span></tt> step.</p>
<p>At the <tt class="docutils literal"><span class="pre">write</span></tt> step, select <tt class="docutils literal"><span class="pre">xgmml</span></tt> in the <tt class="docutils literal"><span class="pre">Output</span> <span class="pre">format</span></tt> menu, and click <tt class="docutils literal"><span class="pre">Write</span>
<span class="pre">graph(s)</span></tt>. This should create a new file called <tt class="docutils literal"><span class="pre">[DATASET_ID]_graph_dynamic.xgmml</span></tt> in
your output folder.</p>
<img alt="_images/coauthors.33.png" class="align-center" src="_images/coauthors.33.png" style="width: 550px;" />
</div>
<div class="section" id="id13">
<h3>Python<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<p>Use the <a class="reference internal" href="tethne.html#tethne.builders.paperCollectionBuilder" title="tethne.builders.paperCollectionBuilder"><tt class="xref py py-class docutils literal"><span class="pre">paperCollectionBuilder</span></tt></a> to build a <a class="reference internal" href="tethne.html#tethne.data.GraphCollection" title="tethne.data.GraphCollection"><tt class="xref py py-class docutils literal"><span class="pre">GraphCollection</span></tt></a> from your
<a class="reference internal" href="tethne.html#tethne.data.DataCollection" title="tethne.data.DataCollection"><tt class="xref py py-class docutils literal"><span class="pre">DataCollection</span></tt></a>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">tethne.builders</span> <span class="kn">import</span> <span class="n">paperCollectionBuilder</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">builder</span> <span class="o">=</span> <span class="n">paperCollectionBuilder</span><span class="p">(</span><span class="n">D</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">C</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="n">build</span><span class="p">(</span><span class="s">&#39;date&#39;</span><span class="p">,</span> <span class="s">&#39;bibliographic_coupling&#39;</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
<span class="gp">... </span>                   <span class="n">node_attribs</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;date&#39;</span><span class="p">,</span><span class="s">&#39;jtitle&#39;</span><span class="p">,</span><span class="s">&#39;atitle&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>Use the <a class="reference internal" href="tethne.writers.html#tethne.writers.collection.to_dxgmml" title="tethne.writers.collection.to_dxgmml"><tt class="xref py py-func docutils literal"><span class="pre">writers.collection.to_dxgmml()</span></tt></a> method to create dynamic XGMML.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tethne.writers</span> <span class="kn">as</span> <span class="nn">wr</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wr</span><span class="o">.</span><span class="n">collection</span><span class="o">.</span><span class="n">to_dxgmml</span><span class="p">(</span><span class="n">C</span><span class="p">,</span> <span class="s">&quot;[OUTPUT_PATH]&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">[OUTPUT_PATH]</span></tt> should be a path to the XGMML file that Tethne will create.</p>
</div>
<div class="section" id="visualization">
<h3>Visualization<a class="headerlink" href="#visualization" title="Permalink to this headline">¶</a></h3>
<p>See <a class="reference internal" href="tutorial.coauthors.html#dynanetwork"><em>Visualizing a dynamic network in Cytoscape</em></a> for instructions about how to visualize your dynamic network in
Cytoscape (the parts about <tt class="docutils literal"><span class="pre">attachment_probability</span></tt> don&#8217;t apply).</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Bibliographic Coupling</a><ul>
<li><a class="reference internal" href="#getting-started">Getting Started</a><ul>
<li><a class="reference internal" href="#initialize-tethnegui">Initialize TethneGUI</a></li>
</ul>
</li>
<li><a class="reference internal" href="#reading-wos-data">Reading WoS Data</a><ul>
<li><a class="reference internal" href="#command-line">Command-line</a></li>
<li><a class="reference internal" href="#tethnegui">TethneGUI</a></li>
<li><a class="reference internal" href="#python">Python</a></li>
</ul>
</li>
<li><a class="reference internal" href="#slicing-wos-data">Slicing WoS Data</a><ul>
<li><a class="reference internal" href="#id2">Command-line</a></li>
<li><a class="reference internal" href="#id3">TethneGUI</a></li>
<li><a class="reference internal" href="#id4">Python</a></li>
</ul>
</li>
<li><a class="reference internal" href="#building-the-bibliographic-coupling-graph">Building the Bibliographic Coupling Graph</a><ul>
<li><a class="reference internal" href="#id5">Command-line</a></li>
<li><a class="reference internal" href="#id6">TethneGUI</a></li>
<li><a class="reference internal" href="#id7">Python</a></li>
</ul>
</li>
<li><a class="reference internal" href="#write-the-graph-to-graphml">Write the Graph to GraphML</a><ul>
<li><a class="reference internal" href="#id8">Command-line</a></li>
<li><a class="reference internal" href="#id9">TethneGUI</a></li>
<li><a class="reference internal" href="#id10">Python</a></li>
</ul>
</li>
<li><a class="reference internal" href="#visualizing-the-merged-network">Visualizing the Merged Network</a><ul>
<li><a class="reference internal" href="#import">Import</a></li>
</ul>
</li>
<li><a class="reference internal" href="#cluster-detection">Cluster Detection</a></li>
<li><a class="reference internal" href="#bibliographic-coupling-over-time">Bibliographic Coupling over Time</a><ul>
<li><a class="reference internal" href="#id11">Command-line</a></li>
<li><a class="reference internal" href="#id12">TethneGUI</a></li>
<li><a class="reference internal" href="#id13">Python</a></li>
<li><a class="reference internal" href="#visualization">Visualization</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="tutorial.coauthors.html"
                        title="previous chapter">Coauthorship Networks</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="tutorial.geonetworks.html"
                        title="next chapter">Geographic Networks</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/tutorial.bibliocoupling.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="np-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="tutorial.geonetworks.html" title="Geographic Networks"
             >next</a> |</li>
        <li class="right" >
          <a href="tutorial.coauthors.html" title="Coauthorship Networks"
             >previous</a> |</li>
        <li><a href="index.html">tethne 0.4.2-alpha documentation</a> &raquo;</li>
          <li><a href="tutorial.html" >Tutorial</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, ASU Digital Innovation Group.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>